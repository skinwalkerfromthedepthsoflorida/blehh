local p = game.Players.LocalPlayer
local whitelist = {
    [p.Name] = true
}

local isOpen = true
local toggleCooldown = false

if whitelist[p.Name] then
    game.StarterGui:SetCore("SendNotification", {
        Title = "Thanks for purchasing";
        Text = "Everything is set";
        Duration = 15;
    })

    local vu = game:GetService("VirtualUser")
    game:GetService("Players").LocalPlayer.Idled:Connect(function()
        vu:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
        wait(1)
        vu:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
    end)

    game.StarterGui:SetCore("SendNotification", {
        Title = "Notice";
        Text = "Good luck";
        Duration = 10;
    })

    print("Don't get caught")

    -- Creating the Loading Screen
    local loadingScreen = Instance.new("ScreenGui")
    loadingScreen.Name = "LoadingScreen"
    loadingScreen.Parent = game.Players.LocalPlayer.PlayerGui

    local textLabel = Instance.new("TextLabel")
    textLabel.Text = "Kangaroo Scripts"
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.TextColor3 = Color3.new(1, 0, 0) 
    textLabel.BackgroundTransparency = 1 
    textLabel.FontSize = Enum.FontSize.Size24
    textLabel.Parent = loadingScreen

    loadingScreen.Enabled = true 

    wait(5) 

    
    textLabel:Destroy()
    loadingScreen:Destroy()

    print("Loading screen destroyed")

    
    local mainScreen = Instance.new("ScreenGui")
    mainScreen.Name = "Main"
    mainScreen.Parent = game.Players.LocalPlayer.PlayerGui

    
    local dinosaurNameTextBox = Instance.new("TextBox")
    dinosaurNameTextBox.Name = "DinosaurNameTextBox"
    dinosaurNameTextBox.PlaceholderText = "Enter Dinosaur Name"
    dinosaurNameTextBox.Size = UDim2.new(0.3, 0, 0.1, 0)
    dinosaurNameTextBox.Position = UDim2.new(0.35, 0, 0.35, 0)
    dinosaurNameTextBox.BackgroundColor3 = Color3.new(0.8, 0.8, 0.8) 
    dinosaurNameTextBox.TextColor3 = Color3.new(0, 0, 0)
    dinosaurNameTextBox.FontSize = Enum.FontSize.Size18
    dinosaurNameTextBox.Parent = mainScreen

    local giveMeElderButton = Instance.new("TextButton")
    giveMeElderButton.Name = "GiveMeElderButton"
    giveMeElderButton.Text = "Give me elders!"
    giveMeElderButton.Size = UDim2.new(0.2, 0, 0.1, 0)
    giveMeElderButton.Position = UDim2.new(0.4, 0, 0.45, 0)
    giveMeElderButton.BackgroundColor3 = Color3.new(0.2, 0.8, 0.2) 
    giveMeElderButton.TextColor3 = Color3.new(1, 1, 1) 
    giveMeElderButton.FontSize = Enum.FontSize.Size18
    giveMeElderButton.Parent = mainScreen

    giveMeElderButton.MouseButton1Click:Connect(function()
        local CountDown = 7
        local t = 1
        local c = game.Players.LocalPlayer.Character
        local Menu = workspace.GameEvents.GoToMenu
        local a = "Zenova"
        local targ = dinosaurNameTextBox.Text 

        print("If adult, with baby stats, try a few more times for success.")
        workspace.GameEvents.ChangeDinosaur:FireServer(a)
        Menu:FireServer(CountDown)
        wait(5)
        workspace.GameEvents.StartPlayer:FireServer()
        workspace.GameEvents.ChangeDinosaur:FireServer(targ)
        Menu:FireServer(CountDown)
        wait(6)
        workspace.GameEvents.ChangeDinosaur:FireServer(targ)
        workspace.GameEvents.StartPlayer:FireServer()
        print("It's a 1/8 chance to be an actual elder.")
    end)

    local closeButton = Instance.new("TextButton")
    closeButton.Text = "X"
    closeButton.Size = UDim2.new(0.1, 0, 0.1, 0)
    closeButton.Position = UDim2.new(0.9, 0, 0, 0)
    closeButton.BackgroundColor3 = Color3.new(0.8, 0.2, 0.2) 
    closeButton.TextColor3 = Color3.new(1, 1, 1) 
    closeButton.FontSize = Enum.FontSize.Size18
    closeButton.Parent = mainScreen

    local reopenButton = Instance.new("TextButton")
    reopenButton.Text = "O"
    reopenButton.Size = UDim2.new(0.1, 0, 0.1, 0)
    reopenButton.Position = UDim2.new(0, 0, 0.9, 0)
    reopenButton.BackgroundColor3 = Color3.new(0.2, 0.8, 0.2) 
    reopenButton.TextColor3 = Color3.new(1, 1, 1) 
    reopenButton.FontSize = Enum.FontSize.Size18
    reopenButton.Parent = mainScreen

    closeButton.MouseButton1Click:Connect(function()
        isOpen = false
        mainScreen.Enabled = false
    end)

    reopenButton.MouseButton1Click:Connect(function()
        if not toggleCooldown then
            isOpen = not isOpen
            mainScreen.Enabled = isOpen
            toggleCooldown = true
            wait(1)
            toggleCooldown = false
        end
    end)

    wait(1)
end
